#!/usr/bin/env node

const fs = require("fs");
const prettier = require("prettier");

let parser = "ruby";
let content = 2;

if (process.argv[content] === "rbs") {
  parser = "rbs";
  content = 3;
}

const code = fs.existsSync(process.argv[content])
  ? fs.readFileSync(process.argv[content], "utf-8")
  : process.argv.slice(content).join(" ").replace(/\\n/g, "\n");

console.log(prettier.format(code, { parser, plugins: ["."] }));
